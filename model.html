<?php
$output = "";
if ($_SERVER["REQUEST_METHOD"] === "POST") {
    $prompt = escapeshellarg($_POST["prompt"]);
    $cmd = "python3 ollama_runner.py $prompt";
    $output = shell_exec($cmd);
}
?>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TextGen AI via Ollama</title>
</head>
<body style="font-family: Arial; background-color: #111; color: #eee; padding: 40px;">
  <h1>Run Ollama Prompt</h1>

  <form method="post">
    <label>Enter your prompt:</label><br>
    <textarea name="prompt" rows="4" cols="60" required></textarea><br><br>
    <input type="submit" value="Run">
  </form>

  <?php if (!empty($output)): ?>
    <h2>Ollama Response:</h2>
    <pre style="background: #222; padding: 10px; border-radius: 5px;"><?= htmlspecialchars($output) ?></pre>
  <?php endif; ?>
</body>
</html>