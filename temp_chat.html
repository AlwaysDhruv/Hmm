<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat - Try It</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
        }
        .chat-container {
            display: flex;
            height: 100vh;
            position: relative;
        }
        .main-chat {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #000000;
            width: 100%;
        }
        .chat-header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .chat-title {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
        }
        .trial-badge {
            background: linear-gradient(135deg, #333333, #666666);
            color: #ffffff;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .prompt-counter {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 14px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .login-btn {
            background: linear-gradient(135deg, #333333, #666666);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-block;
        }
        .login-btn:hover {
            background: linear-gradient(135deg, #444444, #777777);
            transform: translateY(-1px);
        }
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .message {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            max-width: 80%;
            animation: slideIn 0.3s ease-out;
        }
        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
        }
        .message-avatar.ai {
            background: linear-gradient(135deg, #1a1a1a, #333333);
            color: #ffffff;
        }
        .message-avatar.user {
            background: linear-gradient(135deg, #333333, #666666);
            color: #ffffff;
        }
        .message-content {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 16px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            line-height: 1.5;
        }
        .message.user .message-content {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }
        .input-area {
            padding: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .input-container {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }
        .message-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #ffffff;
            padding: 12px 16px;
            border-radius: 12px;
            resize: none;
            font-family: inherit;
            font-size: 14px;
            min-height: 44px;
            max-height: 120px;
            transition: all 0.2s;
        }
        .message-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.08);
        }
        .message-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        .send-btn {
            background: linear-gradient(135deg, #333333, #666666);
            border: none;
            color: #ffffff;
            padding: 12px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
            min-width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .send-btn:hover {
            background: linear-gradient(135deg, #444444, #777777);
            transform: translateY(-1px);
        }
        .send-btn:active {
            transform: translateY(0);
        }
        .send-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            cursor: not-allowed;
            transform: none;
        }
        .send-btn:disabled:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: none;
        }
        .trial-limit-message {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin: 20px;
            text-align: center;
            animation: slideIn 0.3s ease-out;
        }
        .trial-limit-message h3 {
            color: #ffffff;
            margin-bottom: 8px;
        }
        .trial-limit-message p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 16px;
        }
        .trial-limit-message .login-btn {
            background: linear-gradient(135deg, #666666, #999999);
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
        @media (max-width: 768px) {
            .message {
                max-width: 90%;
            }
            .chat-header {
                padding: 12px 16px;
            }
            .input-area {
                padding: 16px;
            }
            .header-right {
                gap: 10px;
            }
            .prompt-counter {
                font-size: 12px;
                padding: 4px 8px;
            }
            .login-btn {
                padding: 8px 16px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="main-chat">
            <div class="chat-header">
                <div class="header-left">
                    <div class="chat-title">AI Assistant</div>
                    <div class="trial-badge">Trial Mode</div>
                </div>
                <div class="header-right">
                    <div class="prompt-counter">
                        <span id="promptCount">0</span>/2 prompts used
                    </div>
                    <a href="login.html" class="login-btn">Login</a>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message">
                    <div class="message-avatar ai">AI</div>
                    <div class="message-content">
                        Welcome to AI Assistant Trial! You have 2 free prompts to try our service. After that, please login to continue chatting.
                    </div>
                </div>
            </div>
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        class="message-input" 
                        id="messageInput"
                        placeholder="Type your message here... (Trial: 2 prompts remaining)"
                        rows="1"
                        onkeypress="handleKeyPress(event)"
                        oninput="autoResize(this)"
                    ></textarea>
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()">âž¤</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        let promptCount = 0;
        const maxPrompts = 2;
        let isTrialExpired = false;

        function updatePromptCounter() {
            document.getElementById('promptCount').textContent = promptCount;
            if (promptCount >= maxPrompts) {
                isTrialExpired = true;
                document.getElementById('sendBtn').disabled = true;
                document.getElementById('messageInput').disabled = true;
                document.getElementById('messageInput').placeholder = "Trial expired. Please login to continue.";
                showTrialLimitMessage();
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 3000);
            } else {
                const remaining = maxPrompts - promptCount;
                document.getElementById('messageInput').placeholder = `Type your message here... (Trial: ${remaining} prompts remaining)`;
            }
        }

        function showTrialLimitMessage() {
            const messagesContainer = document.getElementById('chatMessages');
            const limitMessage = document.createElement('div');
            limitMessage.className = 'trial-limit-message';
            limitMessage.innerHTML = `
                <h3>Trial Limit Reached</h3>
                <p>You've used all 2 free prompts. Login to continue using AI Assistant with unlimited access!</p>
                <a href="login.html" class="login-btn">Login Now</a>
            `;
            messagesContainer.appendChild(limitMessage);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey && !isTrialExpired) {
                event.preventDefault();
                sendMessage();
            }
        }

        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
        }

        function sendMessage() {
            if (isTrialExpired) return;
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (message === '') return;
            promptCount++;
            updatePromptCounter();
            addMessage(message, 'user');
            input.value = '';
            input.style.height = 'auto';
            setTimeout(() => {
                const responses = [
                    "I understand your question. Let me help you with that. This is a trial version - login for full access!",
                    "That's an interesting point. Here's what I think... Remember, you have limited prompts in trial mode.",
                    "Great question! I'd be happy to assist you with this. Login to continue unlimited conversations.",
                    "I can definitely help you with that. Let me explain... This is your trial experience!",
                    "Thanks for asking! Here's my response to your query. Consider logging in for more features."
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, 'ai');
            }, 1000);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `
                <div class="message-avatar ${sender}">${sender === 'user' ? 'U' : 'AI'}</div>
                <div class="message-content">${text}</div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        updatePromptCounter();
    </script>
</body>
</html>